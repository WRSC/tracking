<% provide(:title, "Member | show") %>
<p id="notice"><%= notice %></p>
<p>
<% if @member.logo!="" && @member.logo!=nil %>
  <img src=<%= @member.logo %>>
<% end %>
</p>
<p>
  <strong>Name:</strong>
  <%= @member.name %>
</p>

<p>
  <strong>Email:</strong>
  <%= @member.email %>
</p>

<p>
  <strong>Role:</strong>
  <%= @member.role %>
</p>

<p>
  <strong>Team:</strong>
  <% myVar= Team.find_by_id(@member.team_id) %>
  <% if myVar != nil %>
    <%= myVar.name %>
    <% if sign_in? %>
      <% if (current_user.team_id == @member.team_id) && !is_leader(Team.find(@member.team_id).name) && (@member.id == current_user.id)  %>
        <td><%= link_to 'Leave', leave_member_path(current_user), method: :patch, data: { confirm: 'Are you sure you want to leave the team ?'} %> </td>
      <% end %>
    <% end %>
  <% else %>
    <%= "" %>
  <% end %>
</p>

<% if sign_in? && (is_admin? || @member.id == current_user.id) %>
  <%= link_to 'Edit', edit_member_path(@member) %> |
<% end %>
<% if is_admin? %>
   <%= link_to 'Delete', @member, method: :delete, data: { confirm: 'Delete this member ?' } %> |
<% end %>
<%= link_to 'Back to index', members_path %>
